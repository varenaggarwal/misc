<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Expense</title>
    <style>
        body{
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                height: 100vh;
        }
    </style>
    
</head>
<body>
    <h1 id = "headingTotal"></h1>
    <input id ="inputAmount" type = "number">
    <input id ="inputDescription" type="text">
    <button id="btnAddExpense">+</button>
    <div id="expenseTable"></div>
    <script>
        // get the headong element
        const headingEl = document.querySelector("#headingTotal");

        //get the desc to refrence element
        const inputDescEl= document.querySelector("#inputDescription");

        // get the amount element
        const inputElement = document.querySelector("#inputAmount");

        //get expenseTable div
        const expenseTableEl = document.querySelector("#expenseTable")

        // init value of expense at 0
        let totalExpense=0;

        // set the heading element to total expense
        headingEl.textContent = totalExpense;

        // allexpenses at one place
        const allexpenses = [];

        // on ButtonClick add input to total Expense
        function addExpenseTotal() {
            
            // create a object
            const expenseItem ={};

            // read the input desc
            const textDesc = inputDescEl.value;

            // convert it to number
            const textAmount = inputElement.value;
            const expense = parseInt(textAmount);

            //put it in object
            expenseItem.desc  = textDesc;
            expenseItem.amount = expense;

            //put the object in the array
            allexpenses.push(expenseItem);
 
            console.clear();
            console.table(allexpenses);
            // add to total expense
            totalExpense  += expense;
            const sometext = `Total : ${totalExpense}`; //templating
            // set heading element to total expense
            headingEl.textContent = sometext;   
            
            // show table here
            // const data1 = allexpenses[0];
            // const data2 = allexpenses[1];
            
            // const data1Text = `${data1.amount} :: ${data2.desc}`;
            // const data2Text = `${data2.amount} :: ${data2.desc}`;
            
            // // templating 
            // const tableText = `
            // <div>${data1Text}</div>
            // <div>${data2Text}</div>
            // `

            const allexpensesHTML = allexpenses.map(expense => {
                return `<div> ${expense.amount} :: ${expense.desc}</div>`
            }).join("");
            expenseTableEl.innerHTML = allexpensesHTML;

            }
             
             // add thet value to totalExpense
        // get the button element
        const element = document.querySelector("#btnAddExpense ") // dom here then selecter we have # id or . class              

        // Listen to click 
        element.addEventListener("click" , addExpenseTotal, false); // callback function
        // Take a number which start from 0
        
    </script>
</body>
</html>